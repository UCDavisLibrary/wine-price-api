{
	"variables": [],
	"info": {
		"name": "Wine Price API",
		"_postman_id": "2ca43eeb-726d-fb24-b587-edab9b6493b8",
		"description": "*Wine Price  API* \n\nThe wine price api primarily allows users to search for their wine price data of interest.  The API also includes methods for adding new provence to the dataset, and \n\n**Query parameters**\n\n\n***Equality***\n- __is: \n- __not:\n\n\n***Comparisons***\n- __lt and __lte:\n- _ gt and gte\n\n\n**Text Queries**\n\nThere are a number of searches that check for text substrings in a parameter.  These searches can either be case-sensitive or not.  The i prefix specifies the case-insensitive version of the search.\n\n- (i)contains: \n- (i)startswith\n- (i)endswith: \n- (i)like \n\n***Check for Null Values***\n- __is_null  \n- __not_null\n\n***Faceted queries***\nThese are currently not implemented.\n\n- __in = Allows the specification of a set of valus the parameter will be in.\n- __not_in = Excludes a set of values for the parameter.\n",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"description": "These API commands show how to gain access to the protected parts of the projec.",
			"item": [
				{
					"name": "request a new access token",
					"request": {
						"url": "{{url}}/{{v}}/access_tokens",
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "username",
									"value": "qjhart",
									"type": "text",
									"enabled": true
								},
								{
									"key": "password",
									"value": "quinnIsGreat",
									"type": "text",
									"enabled": true
								},
								{
									"key": "grant_type",
									"value": "password",
									"type": "text",
									"enabled": true
								}
							]
						},
						"description": "Generate new Access Tokens.  In order to post any data, a user must generate an access token.  Currently, in order to generate a token you have to have an account, but that will change.  However, if you do have an account, then we can check for elevated permissions.  \n\nIn order to get an access token, the user needs to include:\n\n- username = \n- password =\n\nIf these are correct, then an access token is returned.  Users can use this access token to gain privledges to other parts of the system.\n"
					},
					"response": []
				},
				{
					"name": "get a list of access tokens",
					"request": {
						"url": "{{url}}/{{v}}/access_tokens?access_token={{token}}",
						"method": "GET",
						"header": [],
						"body": {},
						"description": "Adminstrators can see a list of access tokens that are currently active."
					},
					"response": []
				}
			]
		},
		{
			"name": "Catalog Queries",
			"description": "Catalog queries are used to add new PDF files to the database.  Only administrartors can add new pdf files to system.  Users must have a valid token and be assigned administrative role for the project.\n",
			"item": [
				{
					"name": "Post a new Catalog file",
					"request": {
						"url": "{{url}}/{{v}}/catalogs?access_token={{token}}",
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "title",
									"value": "foo",
									"type": "text",
									"enabled": true
								},
								{
									"key": "file",
									"type": "file",
									"enabled": true
								}
							]
						},
						"description": "Administrators can post new catalog files to the server.  They need to include\n\nRequired\n- access_token = Access token for uploads\n- file = The file to upload.  Please be a PDF\n\nOptional\n- title = The Catalog Title\n- page = The page number(s) of the passed data\n- year = The year the catalog was printed\n- publisher = Who printed the catalog\n"
					},
					"response": []
				},
				{
					"name": "Retrieve a saved file",
					"request": {
						"url": "{{url}}/{{v}}/catalogs/1/file",
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "username",
									"value": "terry",
									"type": "text",
									"enabled": true
								},
								{
									"key": "email",
									"value": "terry@gmail.com",
									"type": "text",
									"enabled": true
								},
								{
									"key": "password",
									"value": "terry",
									"type": "text",
									"enabled": true
								}
							]
						},
						"description": "Example File Retrieval"
					},
					"response": []
				}
			]
		},
		{
			"name": "Wine Price Queries",
			"description": "The wine price queres are the most standard query that will be used for the service.  This service allows users to query along many tracks for their wine price data. \n\n- type Type of wine, can be still, sparkling or fortified\n- country The country of origin of the wine.  This is expressed in the ISO-?? 3letter format\n\n- varietal: The variety of grape used\n- otherdesignation: Any alternative designations for the wine.  Examples include wine regions, and types like 'Claret', etc.\n\n- brandname The Brandname of the wine\n- winery_name The winery that produced the wine\n- vintage_date: When the wine was vinted\n- region: Any additional information regarding the region the wine came from.  This is an uncategorized field.\n- bottlesize: This specifies what size bottle is being priced.  There is a list of these sizes.\n- perprice Cost per one bottle in US$ at price_year time.\n- caseprice : Cost of a case of the wine\n- priceyear : The year at which the price was made\n- note : Any additional notes about the wine\n",
			"item": [
				{
					"name": "Wine Price Count and Offset",
					"request": {
						"url": "{{url}}/{{v}}/wine_prices?vintage_date__gte=1950&__count=5",
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "type",
									"value": "sparkling",
									"type": "text",
									"enabled": true
								},
								{
									"key": "varietal",
									"value": "Quinn",
									"type": "text",
									"enabled": true
								},
								{
									"key": "country",
									"value": "usa",
									"type": "text",
									"enabled": true
								},
								{
									"key": "winery_name",
									"value": "Quinn",
									"type": "text",
									"enabled": true
								}
							]
						},
						"description": "This example shows the use of the \n```__count``` and ```__offset``` parameters.  These can be used to specify how many results are returned, and the first item to return."
					},
					"response": []
				},
				{
					"name": "Wine Prices after 1950",
					"request": {
						"url": "{{url}}/{{v}}/wine_prices?vintage_date__gte=1950&__count=5",
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "type",
									"value": "sparkling",
									"type": "text",
									"enabled": true
								},
								{
									"key": "varietal",
									"value": "Quinn",
									"type": "text",
									"enabled": true
								},
								{
									"key": "country",
									"value": "usa",
									"type": "text",
									"enabled": true
								},
								{
									"key": "winery_name",
									"value": "Quinn",
									"type": "text",
									"enabled": true
								}
							]
						},
						"description": "Get Wine prices after a certain date. Limit to 5 results."
					},
					"response": []
				},
				{
					"name": "Search on multiple facets",
					"request": {
						"url": "{{url}}/{{v}}/wine_prices?type=still&color=white&vintage_date__lte=1950&vintage_date__gte=1945&brandname__icontains=vouvray",
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "type",
									"value": "sparkling",
									"type": "text",
									"enabled": true
								},
								{
									"key": "varietal",
									"value": "Quinn",
									"type": "text",
									"enabled": true
								},
								{
									"key": "country",
									"value": "usa",
									"type": "text",
									"enabled": true
								},
								{
									"key": "winery_name",
									"value": "Quinn",
									"type": "text",
									"enabled": true
								}
							]
						},
						"description": "This example is supposed to show that we can quickly add in the faceted searches with a multi-item query.  Here, I've specified the wine type, color, and a range of vintage dates."
					},
					"response": []
				}
			]
		}
	]
}